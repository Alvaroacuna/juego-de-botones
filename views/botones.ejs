<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type = "text/javascript" src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>
<body>
    <h1>Soy un contador con socket</h1>

    <h2 id="titulo"></h2>
    <div id="container">
        <h3>Da click en el botón para actualizar el contador</h3>
        <button id="boton">Botón especial xd</button>
    </div>
    <button id="reset">Resetear todo</button>


    <button id="verde">Verde</button>
    <button id="azul">Azul</button>
    <button id="rosado">Rosado</button>
    
</body>
<script type="text/javascript">

    const socket = io('http://localhost:8000');
    
    $('#boton').on('click', function (){
        socket.emit('botonclickeado');
    })
    $('#reset').on('click', function(){
        socket.emit('botonreset');
    })

    socket.on('vecesClickeado', function(data){
        $('#titulo').text(data.botonClicks);
    })
    socket.on('resetear', function(data){
        $('#titulo').text(data.botonClicks)
    })

    $('#verde').on('click', function(){
        socket.emit('cambiarverde');
    })
    $('#azul').on('click', function(){
        socket.emit('cambiarazul');
    })
    $('#rosado').on('click', function(){
        socket.emit('cambiarrosado');
    })

    socket.on('colores', function(data){
        $('body').css('background-color', `${data.cambiacolor}`)
    })
    socket.on('fondoverde', function(){
        $('body').css('background-color', 'green')
    })
    socket.on('fondoazul', function(){
        $('body').css('background-color', 'blue')
    })
    socket.on('fondorosado', function(){
        $('body').css('background-color', 'pink')
    })
    



</script>
</html>